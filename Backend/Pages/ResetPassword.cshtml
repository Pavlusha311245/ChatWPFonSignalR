@page "/ResetPassword"
@model Server.Models.ResetPasswordModel
@{ Layout = "~/Pages/Layouts/_Layout.cshtml"; }
@{ ViewData["Title"] = "Reset Password";}

<body>
    <style>
        .form {
        }

            .form label {
                margin-bottom: 5px;
            }

            .form input {
                border-radius: 10px;
                border: 1px solid #75c7e7;
                margin-bottom: 15px;
                vertical-align: central;
            }

                .form input:focus {
                    outline: none;
                    border: 1px solid #ba38ff;
                }

        #ChangePassBtn {
            margin: 10px 0;
        }
    </style>
    <div class="d-flex justify-content-center align-items-center">
        <form action="/api/auth/reset" method="post" class="form">
            @*<div class="d-flex justify-content-center">
                <img src=""  alt="Logo" width="120" height="120"/>
            </div>*@
            <h1>Восстановление пароля</h1>
            <input type="hidden" name="Token" value="@Request.Query["Token"]" />
            <input type="hidden" name="User" value="@Request.Query["User"]" />
            <div class="row">
                <label for="Password">Пароль</label>
                <input type="password" id="Password" name="Password" placeholder="Введите новый пароль" />
            </div>
            <div class="row">
                <label for="Confirm_password">Повтор пароля</label>
                <input type="password" id="Confirm_password" placeholder="Повторите новый пароль" />
            </div>
            <div class="d-flex justify-content-center">
                <button type="button" class="btn btn-primary" id="ChangePassBtn">Сменить пароль</button>
            </div>
        </form>
    </div>
    <script type="text/javascript">
        let btn = document.querySelector('#ChangePassBtn');
        let passField = document.querySelector('#Password');
        let confPassField = document.querySelector('#Confirm_password');
        btn.addEventListener('click', function () {
            let error = {};

            if (passField.value == null || passField.value == "" || passField.value == " ")
                error['password'] = "field cannot be null or empty";
            if (confPassField.value == null || confPassField.value == "" || confPassField.value == " ")
                error['confirm_password'] = "field cannot be null or empty";

            if (passField.value !== confPassField.value)
                error['coincidence'] = "password mismatch";

            console.log(JSON.stringify(error));
        });
    </script>
</body>

